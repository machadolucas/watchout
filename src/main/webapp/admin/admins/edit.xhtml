
<!DOCTYPE HTML>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/admin/static/template.xhtml">


	<ui:define name="breadcrumb">
		<p:breadCrumb>
			<p:menuitem value="#{msg.admin_menu_home}"
				title="#{msg.admin_menu_home}" url="../index.jsf" />
			<p:menuitem value="#{msg.admin_menu_system}"
				title="#{msg.admin_menu_system}" url="#" />
			<p:menuitem value="#{msg.admin_menu_system_user_config}"
				title="#{msg.admin_menu_system_user_config}" url="main.jsf" />
			<p:menuitem value="#{msg.admin_entity_edit}"
				title="#{msg.admin_entity_edit}" url="#" />
		</p:breadCrumb>
	</ui:define>

	<ui:define name="content">

		<h1>
			<h:outputText value="#{msg.admin_entity_edit}" />
		</h1>

		<h:form styleClass="adminForm">


			<p:fieldset>
				<p:panelGrid>

					<p:row>
						<p:column styleClass="inputColumn">
							<h:outputText value="* " styleClass="requiredSymbol"
								title="This field is required" />
							<h:outputLabel value="#{msg.admin_admins_field_name}" for="name" />
							<p:inputText id="name" value="#{adminsBean.bean.name}"
								required="true" requiredMessage="#{msg.required_field_message}" />
							<p:tooltip for="name"
								value="#{msg.admin_admins_field_name_tooltip}" />
						</p:column>
						<p:column styleClass="messagesColumn">
							<p:message for="name" />
						</p:column>
					</p:row>

					<p:row>
						<p:column styleClass="inputColumn">
							<h:outputText value="* " styleClass="requiredSymbol"
								title="This field is required" />
							<h:outputLabel value="#{msg.admin_admins_field_email}"
								for="email" />
							<p:inputText id="email" value="#{adminsBean.bean.email}"
								required="true" requiredMessage="#{msg.required_field_message}" />
							<p:tooltip for="email"
								value="#{msg.admin_admins_field_email_tooltip}" />
						</p:column>
						<p:column styleClass="messagesColumn">
							<p:message for="email" />
						</p:column>
					</p:row>

				</p:panelGrid>
			</p:fieldset>

			<br />

			<p:fieldset legend="#{msg.admin_admins_fieldset_password}"
				rendered="#{loginBean.current.idadmins eq adminsBean.bean.idadmins}"
				toggleable="true" collapsed="true">
				<p:panelGrid>

					<p:row>
						<p:column styleClass="inputColumn">
							<h:outputText value="* " styleClass="requiredSymbol"
								title="This field is required" />
							<h:outputLabel value="#{msg.admin_admins_field_oldpassword}"
								for="oldpassword" />
							<p:password id="oldpassword" value="#{adminsBean.oldPassword}"
								required="#{adminsBean.oldPassword != null}"
								requiredMessage="#{msg.required_field_message}"
								validatorMessage="#{msg.admin_admins_field_password_unmatch}" />
							<p:tooltip for="oldpassword"
								value="#{msg.admin_admins_field_oldpassword_tooltip}" />
						</p:column>
						<p:column styleClass="messagesColumn">
							<p:messages for="oldpassword" />
						</p:column>
					</p:row>

					<p:row>
						<p:column styleClass="inputColumn">
							<h:outputText value="* " styleClass="requiredSymbol"
								title="This field is required" />
							<h:outputLabel value="#{msg.admin_admins_field_password}"
								for="password" />
							<p:password id="password" value="#{adminsBean.newPassword}"
								required="#{adminsBean.oldPassword != null}"
								match="passwordconf" feedback="true" inline="true"
								requiredMessage="#{msg.required_field_message}" />
							<p:tooltip for="password"
								value="#{msg.admin_admins_field_password_tooltip}" />
						</p:column>
						<p:column styleClass="messagesColumn">
							<p:message for="password" />
						</p:column>
					</p:row>

					<p:row>
						<p:column styleClass="inputColumn">
							<h:outputText value="* " styleClass="requiredSymbol"
								title="This field is required" />
							<h:outputLabel
								value="#{msg.admin_admins_field_password_confirmation}"
								for="passwordconf" />
							<p:password id="passwordconf" value="#{adminsBean.newPassword}"
								required="#{adminsBean.oldPassword != null}"
								requiredMessage="#{msg.required_field_message}" />
							<p:tooltip for="passwordconf"
								value="#{msg.admin_admins_field_password_confirmation_tooltip}" />
						</p:column>
						<p:column styleClass="messagesColumn">
							<p:message for="passwordconf" />
						</p:column>
					</p:row>

				</p:panelGrid>
			</p:fieldset>

			<br />

			<p:toolbar>
				<f:facet name="left">
					<p:commandButton label="#{msg.admin_entity_save}"
						value="#{msg.admin_entity_save}" title="#{msg.admin_entity_save}"
						action="#{adminsBean.update}" icon="ui-icon ui-icon-disk"
						update="@form"
						disabled="#{not (loginBean.current.idadmins eq adminsBean.bean.idadmins)}" />
					<p:commandButton label="#{msg.admin_entity_cancel}"
						value="#{msg.admin_entity_cancel}" action="#{adminsBean.cancel}"
						title="#{msg.admin_entity_cancel}" icon="ui-icon ui-icon-cancel"
						immediate="true" />
				</f:facet>
			</p:toolbar>
		</h:form>

	</ui:define>
</ui:composition>
